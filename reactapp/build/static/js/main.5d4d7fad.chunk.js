(this.webpackJsonpmymoviz=this.webpackJsonpmymoviz||[]).push([[0],{28:function(e,t,a){},44:function(e,t,a){e.exports=a(80)},49:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(13),o=a.n(c),l=(a(49),a(11)),i=a.n(l),m=a(42),u=a(21),s=a(9),v=(a(28),a(91)),f=a(92),p=a(93),h=a(94),b=a(95),d=a(96),E=a(88),g=a(101),j=a(97),w=a(98),O=a(99),k=a(100),y=a(82),S=a(83),C=a(84),x=a(85),M=a(86),N=a(87),P=a(89),D=a(90),I=a(16),R=a(17);var L=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(0),i=Object(s.a)(l,2),m=i[0],u=i[1],v=Object(n.useState)(0),f=Object(s.a)(v,2),p=f[0],h=f[1],b=Object(n.useState)(!1),d=Object(s.a)(b,2),g=d[0],j=d[1],w=Object(n.useState)(e.globalRating),O=Object(s.a)(w,2),k=O[0],L=(O[1],Object(n.useState)(e.globalCountRating)),_=Object(s.a)(L,2),z=_[0],B=(_[1],{cursor:"pointer"});if(e.movieSee&&(B={cursor:"pointer",color:"#e74c3c"}),c)var T={color:"#e74c3c"};else T={};for(var W=function(e){e<0&&(e=0),e>10&&(e=10),h(e),j(!0)},A=[],J=function(){K={},q<p&&(K={color:"#f1c40f"});var e=q+1;A.push(r.a.createElement(I.a,{onClick:function(){return W(e)},style:K,icon:R.b}))},q=0;q<10;q++){J()}var $=k*z,F=z;g&&(F+=1,$+=p);var G=Math.round($/F),H=[];for(q=0;q<10;q++){var K={};q<G&&(K={color:"#f1c40f"}),H.push(r.a.createElement(I.a,{style:K,icon:R.b}))}return r.a.createElement(y.a,{xs:"12",lg:"6",xl:"4"},r.a.createElement(S.a,{style:{marginBottom:30,height:500}},r.a.createElement(C.a,{top:!0,src:e.movieImg,alt:e.movieName}),r.a.createElement(x.a,null,r.a.createElement("p",null,"Like ",r.a.createElement(I.a,{style:B,icon:R.a,onClick:function(){return t=e.movieName,a=e.movieImg,void(!0===e.movieSee?e.handleClickDeleteMovieParent(t):e.handleClickAddMovieParent(t,a));var t,a}})),r.a.createElement("p",null,"Nombre de vues  ",r.a.createElement(I.a,{style:T,icon:R.c,onClick:function(){return o(!0),void u(m+1)}})," ",r.a.createElement(M.a,{color:"secondary"},m)),r.a.createElement("p",null,"Mon avis",A,r.a.createElement(N.a,{size:"sm"},r.a.createElement(E.a,{onClick:function(){return W(p-1)},color:"secondary"},"-"),r.a.createElement(E.a,{onClick:function(){return W(p+1)},color:"secondary"},"+"))),r.a.createElement("p",null,"Moyenne",H,"(",F,")"),r.a.createElement(P.a,null,e.movieName),r.a.createElement(D.a,null,e.movieDesc))))};var _=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),l=Object(s.a)(o,2),y=l[0],S=l[1],C=Object(n.useState)(!1),x=Object(s.a)(C,2),M=x[0],N=x[1],P=Object(n.useState)([]),D=Object(s.a)(P,2),I=D[0],R=D[1],_=function(){var e=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(a+1),S([].concat(Object(m.a)(y),[{name:t,img:n}])),e.next=4,fetch("/wishlist-movie",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"name=".concat(t,"&img=").concat(n)});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(a-1),S(y.filter((function(e){return e.name!==t}))),e.next=4,fetch("/wishlist-movie/".concat(t),{method:"DELETE"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=y.map((function(e,t){return r.a.createElement(v.a,null,r.a.createElement(f.a,{onClick:function(){z(e.name)}},r.a.createElement("img",{width:"25%",src:e.img,alt:"movie"})," ",e.name))}));Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t,a,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/new-movies");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,R(a.movies),e.next=9,fetch("/wishlist-movie");case 9:return n=e.sent,e.next=12,n.json();case 12:r=e.sent,o=r.movies.map((function(e,t){return{name:e.movieName,img:e.movieImg}})),S(o),c(r.movies.length);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var T=I.map((function(e,t){var a=!1;void 0!==y.find((function(t){return t.name===e.title}))&&(a=!0);var n=e.overview;e.overview.length>80&&(n=e.overview.substr(0,76)+"...");var c=e.backdrop_path;return null==e.backdrop_path&&(c="/generique.jpg"),r.a.createElement(L,{key:t,movieSee:a,handleClickDeleteMovieParent:z,handleClickAddMovieParent:_,movieName:e.title,movieDesc:n,movieImg:"https://image.tmdb.org/t/p/w500/"+c,globalRating:e.vote_average,globalCountRating:e.vote_count})}));return r.a.createElement("div",{style:{backgroundColor:"#232528"}},r.a.createElement(p.a,null,r.a.createElement(h.a,null,r.a.createElement("span",{className:"navbar-brand"},r.a.createElement("img",{src:"./logo.png",width:"30",height:"30",className:"d-inline-block align-top",alt:"logo"})),r.a.createElement(b.a,null,r.a.createElement(d.a,{style:{color:"white"}},"Last Releases")),r.a.createElement(b.a,null,r.a.createElement(d.a,null,r.a.createElement(E.a,{id:"Popover1",type:"button"},a," films"),r.a.createElement(g.a,{placement:"bottom",isOpen:M,target:"Popover1",toggle:function(){return N(!M)}},r.a.createElement(j.a,null,"WishList"),r.a.createElement(w.a,null,r.a.createElement(O.a,null,B)))))),r.a.createElement(k.a,null,T)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(79);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.5d4d7fad.chunk.js.map